const mongoose = require('mongoose')

const B2BLogistics = new mongoose.Schema({
    providerId: { type: mongoose.Schema.Types.ObjectId, ref: 'Users' },
    b2bLogisticOrderId: { type: mongoose.Schema.Types.ObjectId, ref: 'b2b-logistic-orders' },
    orderIds: [{ type: mongoose.Schema.Types.ObjectId, ref: 'b2b-logistic-orders-line-items' }],
    totalDistance: { type: Number, default: 0 },
    totalDuration: { type: Number, default: 0 },
    totalWeight: { type: Number, default: 0 },
    totalBoxVolume: { type: Number, default: 0 },
    totalDurationText: { type: String, default: "" },
    totalDistanceText: { type: String, default: "" },
    totalInvoiceAmount: { type: Number, default: 0 },
    tripRoutes: [{ type: Object, default: "" }],
    onNetworklogisticData: {
        isOnNetwork: { type: Boolean, default: false },
        onNetworklogisticDeliveryType: { type: String },
        onNetworklogisticContext: { type: Object },
        onNetworklogisticOrderId: { type: String },
        onNetworklogisticOrderState: { type: String },
        onNetworklogisticProviderName: { type: Object },
        onNetworklogisticProviderItems: { type: Object },
        onNetworklogisticProviderRTOItems: { type: Object },
        onNetworklogisticQuote: { type: Object },
        onNetworklogisticfulfillmentType: { type: String },
        onNetworklogisticStatus: { type: String },
        onNetworklogisticFulfillmentData: {
            startInstructions: { type: Object },
            endInstructions: { type: Object },
            tracking: { type: Boolean, default: false },
            tags: { type: Array },
            agentDetails: { type: Object },
        },
        onNetworklogisticCancellation: { type: Object },
        lspAWBNumber: { type: String },
    },
    onNetworklogisticTransactionId: { type: String },
    onNetworklogisticSelectedFF: { type: Object },
    logisticsVehicles: { type: Array },
    logisticsStatus: { type: String },
    logisticResponse: { type: Object },
    deliveryPartnerCharges: { type: Number },
    deliveryVendorStatus: { type: String },
    isDeleted: { type: Boolean, default: false },
    pidgeLogisticsIds: { type: Object },
},
    { timestamps: true })

module.exports = mongoose.model("b2b-logistics-order-trips", B2BLogistics)